<form 
    class="container p-5"
    (ngSubmit)="submitForm()"
    [formGroup]="contactForm"
>
    <div class="mb-3">
        <label class="form-label">Your name</label>
        <input type="text" class="form-control" formControlName="senderName">
         @if (contactForm.get('senderName')?.invalid && (contactForm.get('senderName')?.dirty || contactForm.get('senderName')?.touched)) {
            <div >
                @if (contactForm.get('senderName')?.hasError('required')) {
                    <small class="text-danger">
                        This field is required.
                    </small>
                }
            </div>
        }
    </div>
    <div class="mb-3">
        <label class="form-label">Your email address</label>
        <input type="email" class="form-control" formControlName="senderEmail">
        @if (contactForm.get('senderEmail')?.invalid && (contactForm.get('senderEmail')?.dirty || contactForm.get('senderEmail')?.touched)) {
            <div >
                @if (contactForm.get('senderEmail')?.hasError('required')) {
                    <small class="text-danger">
                        This field is required.
                    </small>
                } 
                @if (contactForm.get('senderEmail')?.hasError('email')) {
                    <small class="text-danger">
                        Please enter your email address.
                    </small>
                }
                @if (contactForm.get('senderEmail')?.hasError('invalidEmailDomain')) {
                    <small class="text-danger">
                        The email provider is not allowed.
                    </small>
                }
            </div>
        }
    </div>
    <div class="mb-3">
        <label class="form-label">Message</label>
        <textarea rows="3" class="form-control" formControlName="senderMessage"></textarea>
        @if (contactForm.get('senderMessage')?.invalid && (contactForm.get('senderMessage')?.dirty || contactForm.get('senderMessage')?.touched)) {
            <div >
                @if (contactForm.get('senderMessage')?.hasError('required')) {
                    <small class="text-danger">
                        This field is required.
                    </small>
                } @else {
                    <small class="text-danger">
                        The message has to be atleast 10 characters.
                    </small>
                }
            </div>
        }
    </div>
    <div class="mb-3">
        <button 
            type="submit"
            class="btn btn-primary"
            [disabled]="contactForm.invalid" 
        >Send Message</button>
    </div>
</form>